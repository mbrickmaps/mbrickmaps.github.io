/**
 * Bundled by jsDelivr using Rollup v2.79.2 and Terser v5.37.0.
 * Original file: /npm/@turf/buffer@7.2.0/dist/esm/index.js
 *
 * Do NOT use SRI with dynamically generated files! More information: https://www.jsdelivr.com/using-sri-with-dynamic-files
 */
import{center as r}from"../center@7.2.0/b0d2e8a2.js";import e from"../jsts@2.7.2/36804be6.js";import{featureEach as t,geomEach as o}from"../meta@7.2.0/c0f2fe64.js";import{geoAzimuthalEquidistant as n}from"../../d3-geo@1.7.1/c3d5df35.js";import{featureCollection as i,radiansToLength as u,lengthToRadians as s,feature as a,earthRadius as f}from"../helpers@7.2.0/28807c9c.js";var{BufferOp:p,GeoJSONReader:m,GeoJSONWriter:c}=e;function y(r,e,n){var u=(n=n||{}).units||"kilometers",s=n.steps||8;if(!r)throw new Error("geojson is required");if("object"!=typeof n)throw new Error("options must be an object");if("number"!=typeof s)throw new Error("steps must be an number");if(void 0===e)throw new Error("radius is required");if(s<=0)throw new Error("steps must be greater than 0");var a=[];switch(r.type){case"GeometryCollection":return o(r,(function(r){var t=d(r,e,u,s);t&&a.push(t)})),i(a);case"FeatureCollection":return t(r,(function(r){var o=d(r,e,u,s);o&&t(o,(function(r){r&&a.push(r)}))})),i(a)}return d(r,e,u,s)}function d(e,t,y,b){var l=e.properties||{},j="Feature"===e.type?e.geometry:e;if("GeometryCollection"===j.type){var g=[];return o(e,(function(r){var e=d(r,t,y,b);e&&g.push(e)})),i(g)}var E=function(e){var t=r(e).geometry.coordinates,o=[-t[0],-t[1]];return n().rotate(o).scale(f)}(j),G={type:j.type,coordinates:w(j.coordinates,E)},N=(new m).read(G),O=u(s(t,y),"meters"),C=p.bufferOp(N,O,b);if(!v((C=(new c).write(C)).coordinates)){var q={type:C.type,coordinates:h(C.coordinates,E)};return a(q,l)}}function v(r){return Array.isArray(r[0])?v(r[0]):isNaN(r[0])}function w(r,e){return"object"!=typeof r[0]?e(r):r.map((function(r){return w(r,e)}))}function h(r,e){return"object"!=typeof r[0]?e.invert(r):r.map((function(r){return h(r,e)}))}var b=y;export{y as buffer,b as default};
