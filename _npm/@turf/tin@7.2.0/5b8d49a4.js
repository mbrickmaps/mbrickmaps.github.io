/**
 * Bundled by jsDelivr using Rollup v2.79.2 and Terser v5.37.0.
 * Original file: /npm/@turf/tin@7.2.0/dist/esm/index.js
 *
 * Do NOT use SRI with dynamically generated files! More information: https://www.jsdelivr.com/using-sri-with-dynamic-files
 */
import{featureCollection as t,polygon as e}from"../helpers@7.2.0/28807c9c.js";function n(n,y){let l=!1;return t(function(t){if(t.length<3)return[];t.sort(s);let e=t.length-1;const n=t[e].x,y=t[0].x;let l=t[e].y,c=l;const i=1e-12;let x,h,a,p,u,f;for(;e--;)t[e].y<l&&(l=t[e].y),t[e].y>c&&(c=t[e].y);let g=y-n,_=c-l;const b=g>_?g:_,m=.5*(y+n),z=.5*(c+l),d=[new r({__sentinel:!0,x:m-20*b,y:z-b},{__sentinel:!0,x:m,y:z+20*b},{__sentinel:!0,x:m+20*b,y:z-b})],v=[],w=[];let A;e=t.length;for(;e--;){for(w.length=0,A=d.length;A--;)g=t[e].x-d[A].x,g>0&&g*g>d[A].r?(v.push(d[A]),d.splice(A,1)):(_=t[e].y-d[A].y,g*g+_*_>d[A].r||(w.push(d[A].a,d[A].b,d[A].b,d[A].c,d[A].c,d[A].a),d.splice(A,1)));for(o(w),A=w.length;A;)h=w[--A],x=w[--A],a=t[e],p=h.x-x.x,u=h.y-x.y,f=2*(p*(a.y-h.y)-u*(a.x-h.x)),Math.abs(f)>i&&d.push(new r(x,h,a))}Array.prototype.push.apply(v,d),e=v.length;for(;e--;)(v[e].a.__sentinel||v[e].b.__sentinel||v[e].c.__sentinel)&&v.splice(e,1);return v}(n.features.map((t=>{const e={x:t.geometry.coordinates[0],y:t.geometry.coordinates[1]};return y?e.z=t.properties[y]:3===t.geometry.coordinates.length&&(l=!0,e.z=t.geometry.coordinates[2]),e}))).map((t=>{const n=[t.a.x,t.a.y],r=[t.b.x,t.b.y],s=[t.c.x,t.c.y];let o={};return l?(n.push(t.a.z),r.push(t.b.z),s.push(t.c.z)):o={a:t.a.z,b:t.b.z,c:t.c.z},e([[n,r,s,n]],o)})))}var r=class{constructor(t,e,n){this.a=t,this.b=e,this.c=n;const r=e.x-t.x,s=e.y-t.y,o=n.x-t.x,y=n.y-t.y,l=r*(t.x+e.x)+s*(t.y+e.y),c=o*(t.x+n.x)+y*(t.y+n.y),i=2*(r*(n.y-e.y)-s*(n.x-e.x));let x,h;this.x=(y*l-s*c)/i,this.y=(r*c-o*l)/i,x=this.x-t.x,h=this.y-t.y,this.r=x*x+h*h}};function s(t,e){return e.x-t.x}function o(t){let e,n,r,s,o,y=t.length;t:for(;y;)for(n=t[--y],e=t[--y],r=y;r;)if(o=t[--r],s=t[--r],e===s&&n===o||e===o&&n===s){t.splice(y,2),t.splice(r,2),y-=2;continue t}}var y=n;export{y as default,n as tin};
