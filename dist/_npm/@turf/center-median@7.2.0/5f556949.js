/**
 * Bundled by jsDelivr using Rollup v2.79.2 and Terser v5.37.0.
 * Original file: /npm/@turf/center-median@7.2.0/dist/esm/index.js
 *
 * Do NOT use SRI with dynamically generated files! More information: https://www.jsdelivr.com/using-sri-with-dynamic-files
 */
import{centerMean as r}from"../center-mean@7.2.0/62da1405.js";import{distance as e}from"../distance@7.2.0/379bfd17.js";import{centroid as t}from"../centroid@7.2.0/40f66647.js";import{isObject as n,isNumber as o,featureCollection as a,point as i}from"../helpers@7.2.0/28807c9c.js";import{featureEach as m}from"../meta@7.2.0/c0f2fe64.js";function s(e,i={}){if(!n(i=i||{}))throw new Error("options is invalid");var s=i.counter||10;if(!o(s))throw new Error("counter must be a number");var f=i.weight,d=r(e,{weight:i.weight}),p=a([]);m(e,(function(r){var e;p.features.push(t(r,{properties:{weight:null==(e=r.properties)?void 0:e[f]}}))}));const c={tolerance:i.tolerance,medianCandidates:[]};return u(d.geometry.coordinates,[0,0],p,c,s)}function u(r,t,n,a,s){var f=a.tolerance||.001,d=0,p=0,c=0,h=0;if(m(n,(function(t){var n,a=null==(n=t.properties)?void 0:n.weight,i=null==a?1:a;if(i=Number(i),!o(i))throw new Error("weight value must be a number");if(i>0){h+=1;var m=i*e(t,r);0===m&&(m=1);var s=i/m;d+=t.geometry.coordinates[0]*s,p+=t.geometry.coordinates[1]*s,c+=s}})),h<1)throw new Error("no features to measure");var w=d/c,l=p/c;return 1===h||0===s||Math.abs(w-t[0])<f&&Math.abs(l-t[1])<f?i([w,l],{medianCandidates:a.medianCandidates}):(a.medianCandidates.push([w,l]),u([w,l],r,n,a,s-1))}var f=s;export{s as centerMedian,f as default};
