/**
 * Bundled by jsDelivr using Rollup v2.79.2 and Terser v5.37.0.
 * Original file: /npm/@turf/quadrat-analysis@7.2.0/dist/esm/index.js
 *
 * Do NOT use SRI with dynamically generated files! More information: https://www.jsdelivr.com/using-sri-with-dynamic-files
 */
import{area as t}from"../area@7.2.0/63969d19.js";import{bbox as o}from"../bbox@7.2.0/8d64fe90.js";import{bboxPolygon as e}from"../bbox-polygon@7.2.0/a8f44922.js";import{getCoord as r}from"../invariant@7.2.0/671cab78.js";import{squareGrid as n}from"../square-grid@7.2.0/f2d89276.js";function s(s,u){const a=(u=u||{}).studyBbox||o(s),i=u.confidenceLevel||20,l=s.features,b=l.length,p=t(e(a)),h=Math.sqrt(p/b*2),x=n(a,h,{units:"meters"}).features,d={};for(let t=0;t<x.length;t++)d[t]={box:o(x[t]),cnt:0};let y=0;for(const t of l)for(const o of Object.keys(d)){const e=d[o].box;if(c(r(t),e)){d[o].cnt+=1,y+=1;break}}let g=0;for(const t of Object.keys(d)){const o=d[t].cnt;o>g&&(g=o)}const k=[],v=Object.keys(d).length,M=y/v;let j=0;for(let t=0;t<g+1;t++)j+=Math.exp(-M)*Math.pow(M,t)/m(t),k.push(j);const O=[];let q=0;for(let t=0;t<g+1;t++){for(const o of Object.keys(d))d[o].cnt===t&&(q+=1);const o=q/v;O.push(o)}let D=0;for(let t=0;t<g+1;t++){const o=Math.abs(k[t]-O[t]);o>D&&(D=o)}const R=f[i]/Math.sqrt(v),w={criticalValue:R,isRandom:!0,maxAbsoluteDifference:D,observedDistribution:O};return D>R&&(w.isRandom=!1),w}var f={20:1.07275,15:1.13795,10:1.22385,5:1.3581,2:1.51743,1:1.62762};function c(t,o){return o[0]<=t[0]&&o[1]<=t[1]&&o[2]>=t[0]&&o[3]>=t[1]}function m(t){const o=[];return function t(e){return 0===e||1===e?1:o[e]>0?o[e]:o[e]=t(e-1)*e}(t)}var u=s;export{u as default,s as quadratAnalysis};
