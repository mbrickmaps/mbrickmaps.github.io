/**
 * Bundled by jsDelivr using Rollup v2.79.2 and Terser v5.37.0.
 * Original file: /npm/@turf/line-offset@7.2.0/dist/esm/index.js
 *
 * Do NOT use SRI with dynamically generated files! More information: https://www.jsdelivr.com/using-sri-with-dynamic-files
 */
import{flattenEach as r}from"../meta@7.2.0/c0f2fe64.js";import{getType as n,getCoords as t}from"../invariant@7.2.0/671cab78.js";import{isObject as e,multiLineString as i,lengthToDegrees as o,lineString as u}from"../helpers@7.2.0/28807c9c.js";function s(r){var n=r[0],t=r[1];return[t[0]-n[0],t[1]-n[1]]}function f(r,n){return r[0]*n[1]-n[0]*r[1]}function a(r,n){return!function(r,n){return 0===f(s(r),s(n))}(r,n)&&function(r,n){var t,e,i=r[0],o=s(r),u=n[0],a=s(n),p=f(o,a);return function(r,n){return[r[0]+n[0],r[1]+n[1]]}(i,function(r,n){return[r*n[0],r*n[1]]}(f((e=i,[(t=u)[0]-e[0],t[1]-e[1]]),a)/p,o))}(r,n)}function p(t,o,u){if(!e(u=u||{}))throw new Error("options is invalid");var s=u.units;if(!t)throw new Error("geojson is required");if(null==o||isNaN(o))throw new Error("distance is required");var f=n(t),a=t.properties;switch(f){case"LineString":return h(t,o,s);case"MultiLineString":var p=[];return r(t,(function(r){p.push(h(r,o,s).geometry.coordinates)})),i(p,a);default:throw new Error("geometry "+f+" is not supported")}}function h(r,n,e){var i=[],s=o(n,e),f=t(r),p=[];return f.forEach((function(r,n){if(n!==f.length-1){var t=(u=r,h=f[n+1],c=s,m=Math.sqrt((u[0]-h[0])*(u[0]-h[0])+(u[1]-h[1])*(u[1]-h[1])),v=u[0]+c*(h[1]-u[1])/m,l=h[0]+c*(h[1]-u[1])/m,w=u[1]+c*(u[0]-h[0])/m,d=h[1]+c*(u[0]-h[0])/m,[[v,w],[l,d]]);if(i.push(t),n>0){var e=i[n-1],o=a(t,e);!1!==o&&(e[1]=o,t[0]=o),p.push(e[0]),n===f.length-2&&(p.push(t[0]),p.push(t[1]))}2===f.length&&(p.push(t[0]),p.push(t[1]))}var u,h,c,m,v,l,w,d})),u(p,r.properties)}var c=p;export{c as default,p as lineOffset};
