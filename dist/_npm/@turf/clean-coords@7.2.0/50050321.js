/**
 * Bundled by jsDelivr using Rollup v2.79.2 and Terser v5.37.0.
 * Original file: /npm/@turf/clean-coords@7.2.0/dist/esm/index.js
 *
 * Do NOT use SRI with dynamically generated files! More information: https://www.jsdelivr.com/using-sri-with-dynamic-files
 */
import{feature as r}from"../helpers@7.2.0/28807c9c.js";import{getType as t,getCoords as e}from"../invariant@7.2.0/671cab78.js";function n(n,a={}){var i="object"==typeof a?a.mutate:a;if(!n)throw new Error("geojson is required");var s=t(n),u=[];switch(s){case"LineString":u=o(n,s);break;case"MultiLineString":case"Polygon":e(n).forEach((function(r){u.push(o(r,s))}));break;case"MultiPolygon":e(n).forEach((function(r){var t=[];r.forEach((function(r){t.push(o(r,s))})),u.push(t)}));break;case"Point":return n;case"MultiPoint":var c={};e(n).forEach((function(r){var t=r.join("-");Object.prototype.hasOwnProperty.call(c,t)||(u.push(r),c[t]=!0)}));break;default:throw new Error(s+" geometry not supported")}return n.coordinates?!0===i?(n.coordinates=u,n):{type:s,coordinates:u}:!0===i?(n.geometry.coordinates=u,n):r({type:s,coordinates:u},n.properties,{bbox:n.bbox,id:n.id})}function o(r,t){var n=e(r);if(2===n.length&&!a(n[0],n[1]))return n;var o=[],s=n.length-1,u=o.length;o.push(n[0]);for(var c=1;c<s;c++){var h=o[o.length-1];n[c][0]===h[0]&&n[c][1]===h[1]||(o.push(n[c]),(u=o.length)>2&&i(o[u-3],o[u-1],o[u-2])&&o.splice(o.length-2,1))}if(o.push(n[n.length-1]),u=o.length,("Polygon"===t||"MultiPolygon"===t)&&a(n[0],n[n.length-1])&&u<4)throw new Error("invalid polygon");return"LineString"===t&&u<3||i(o[u-3],o[u-1],o[u-2])&&o.splice(o.length-2,1),o}function a(r,t){return r[0]===t[0]&&r[1]===t[1]}function i(r,t,e){var n=e[0],o=e[1],a=r[0],i=r[1],s=t[0],u=t[1],c=s-a,h=u-i;return 0===(n-a)*h-(o-i)*c&&(Math.abs(c)>=Math.abs(h)?c>0?a<=n&&n<=s:s<=n&&n<=a:h>0?i<=o&&o<=u:u<=o&&o<=i)}var s=n;export{n as cleanCoords,s as default};
