/**
 * Bundled by jsDelivr using Rollup v2.79.1 and Terser v5.19.2.
 * Original file: /npm/polylabel@1.1.0/polylabel.js
 *
 * Do NOT use SRI with dynamically generated files! More information: https://www.jsdelivr.com/using-sri-with-dynamic-files
 */
import r from"../tinyqueue@2.0.3/904e1d39.js";var t={exports:{}},e=r;function n(r,t,n){var s,h,u,i;t=t||1;for(var d=0;d<r[0].length;d++){var f=r[0][d];(!d||f[0]<s)&&(s=f[0]),(!d||f[1]<h)&&(h=f[1]),(!d||f[0]>u)&&(u=f[0]),(!d||f[1]>i)&&(i=f[1])}var v=u-s,l=i-h,p=Math.min(v,l),x=p/2;if(0===p){var c=[s,h];return c.distance=0,c}for(var m=new e(void 0,a),g=s;g<u;g+=p)for(var w=h;w<i;w+=p)m.push(new o(g+x,w+x,x,r));var y=function(r){for(var t=0,e=0,n=0,a=r[0],s=0,h=a.length,u=h-1;s<h;u=s++){var i=a[s],d=a[u],f=i[0]*d[1]-d[0]*i[1];e+=(i[0]+d[0])*f,n+=(i[1]+d[1])*f,t+=3*f}return 0===t?new o(a[0][0],a[0][1],0,r):new o(e/t,n/t,0,r)}(r),M=new o(s+v/2,h+l/2,0,r);M.d>y.d&&(y=M);for(var b=m.length;m.length;){var q=m.pop();q.d>y.d&&(y=q,n&&console.log("found best %d after %d probes",Math.round(1e4*q.d)/1e4,b)),q.max-y.d<=t||(x=q.h/2,m.push(new o(q.x-x,q.y-x,x,r)),m.push(new o(q.x+x,q.y-x,x,r)),m.push(new o(q.x-x,q.y+x,x,r)),m.push(new o(q.x+x,q.y+x,x,r)),b+=4)}n&&(console.log("num probes: "+b),console.log("best distance: "+y.d));var Q=[y.x,y.y];return Q.distance=y.d,Q}function a(r,t){return t.max-r.max}function o(r,t,e,n){this.x=r,this.y=t,this.h=e,this.d=function(r,t,e){for(var n=!1,a=1/0,o=0;o<e.length;o++)for(var h=e[o],u=0,i=h.length,d=i-1;u<i;d=u++){var f=h[u],v=h[d];f[1]>t!=v[1]>t&&r<(v[0]-f[0])*(t-f[1])/(v[1]-f[1])+f[0]&&(n=!n),a=Math.min(a,s(r,t,f,v))}return 0===a?0:(n?1:-1)*Math.sqrt(a)}(r,t,n),this.max=this.d+this.h*Math.SQRT2}function s(r,t,e,n){var a=e[0],o=e[1],s=n[0]-a,h=n[1]-o;if(0!==s||0!==h){var u=((r-a)*s+(t-o)*h)/(s*s+h*h);u>1?(a=n[0],o=n[1]):u>0&&(a+=s*u,o+=h*u)}return(s=r-a)*s+(h=t-o)*h}e.default&&(e=e.default),t.exports=n,t.exports.default=n;var h=t.exports;export{h as default};
